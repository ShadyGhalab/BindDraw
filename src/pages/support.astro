---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout title="Support — Invisible Ink" description="Get help with Invisible Ink. FAQ, contact information, and support resources.">

  <section class="page-hero">
    <div class="page-hero__bg" aria-hidden="true">
      <div class="glow-orb glow-orb--purple" style="top: -100px; right: 20%;"></div>
    </div>
    <div class="container text-center">
      <span class="section-label reveal">Support</span>
      <h1 class="reveal" style="transition-delay: 0.1s;">How Can We Help?</h1>
      <p class="page-hero__sub reveal" style="transition-delay: 0.2s;">Find answers to common questions or get in touch with us.</p>
    </div>
  </section>

  <!-- FAQ -->
  <section class="section">
    <div class="container container--narrow">
      <div class="faq reveal-stagger">

        <details class="faq-item">
          <summary class="faq-item__question">
            <span>How do I reveal my drawing?</span>
            <svg class="faq-item__chevron" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M6 8l4 4 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </summary>
          <div class="faq-item__answer">
            <p>After drawing on the dark canvas, tap the <strong>"Reveal"</strong> button at the bottom of the screen. Your drawing will come to life using your selected reveal style. You can change the reveal style before revealing by tapping the <strong>"Style"</strong> button.</p>
          </div>
        </details>

        <details class="faq-item">
          <summary class="faq-item__question">
            <span>What are the different reveal styles?</span>
            <svg class="faq-item__chevron" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M6 8l4 4 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </summary>
          <div class="faq-item__answer">
            <p>Invisible Ink has 7 reveal styles:</p>
            <ul>
              <li><strong>Darkroom</strong> — Lines fade in like a photo developing (Free)</li>
              <li><strong>Firefly</strong> — Glowing particles trace your drawing (Free)</li>
              <li><strong>Frost</strong> — Frosted glass melts away to reveal (Premium)</li>
              <li><strong>Lightning</strong> — Flash reveal with electric effect (Premium)</li>
              <li><strong>Grow</strong> — Lines grow like vines from the center (Premium)</li>
              <li><strong>Glitter</strong> — Sparkle particles settle into shape (Premium)</li>
              <li><strong>Watercolor</strong> — Colors bleed and spread beautifully (Premium)</li>
            </ul>
          </div>
        </details>

        <details class="faq-item">
          <summary class="faq-item__question">
            <span>How does Warmth Reveal work in iMessage?</span>
            <svg class="faq-item__chevron" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M6 8l4 4 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </summary>
          <div class="faq-item__answer">
            <p>Warmth Reveal lets you send hidden drawings via iMessage. The recipient reveals the drawing by touching the screen — their finger's warmth location determines what gets revealed. It's like magic! Open iMessage, tap the Invisible Ink app icon, create your drawing, and send it.</p>
          </div>
        </details>

        <details class="faq-item">
          <summary class="faq-item__question">
            <span>How do I restore my Premium purchase?</span>
            <svg class="faq-item__chevron" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M6 8l4 4 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </summary>
          <div class="faq-item__answer">
            <p>Go to <strong>Settings</strong> (gear icon) → scroll to the <strong>Premium</strong> section → tap <strong>"Restore Purchases"</strong>. Make sure you're signed in with the same Apple ID you used for the original purchase. Your premium features will be restored automatically.</p>
          </div>
        </details>

        <details class="faq-item">
          <summary class="faq-item__question">
            <span>Is my data synced across devices?</span>
            <svg class="faq-item__chevron" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M6 8l4 4 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </summary>
          <div class="faq-item__answer">
            <p>Yes! If you have iCloud enabled on your devices, your drawings and gallery will sync automatically across all your Apple devices signed in with the same Apple ID. This feature is available for Premium users. Make sure iCloud is enabled in your device settings.</p>
          </div>
        </details>

        <details class="faq-item">
          <summary class="faq-item__question">
            <span>How do I play Guess What I Drew with friends?</span>
            <svg class="faq-item__chevron" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M6 8l4 4 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </summary>
          <div class="faq-item__answer">
            <p>From the main menu, tap <strong>"Guess What I Drew"</strong>. Add player names, then pass the device to the first drawer. They'll get a secret word to draw blind on the dark canvas. Once done, pass the device to the guessers who try to figure out what was drawn. It's hilarious fun for the whole family!</p>
          </div>
        </details>

        <details class="faq-item">
          <summary class="faq-item__question">
            <span>What's included in Premium?</span>
            <svg class="faq-item__chevron" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M6 8l4 4 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </summary>
          <div class="faq-item__answer">
            <p>Premium is a one-time purchase of $3.99 that unlocks:</p>
            <ul>
              <li>All 7 reveal styles (5 premium + 2 free)</li>
              <li>All 8 professional brush packs</li>
              <li>All 48 canvas themes</li>
              <li>300+ drawing prompts</li>
              <li>Custom prompts</li>
              <li>Unlimited gallery storage</li>
              <li>Ad-free experience</li>
              <li>iCloud sync across devices</li>
              <li>AI drawing coach</li>
              <li>Quick Peek feature (3 peeks per drawing)</li>
            </ul>
            <p>No subscriptions — pay once, own forever.</p>
          </div>
        </details>

        <details class="faq-item">
          <summary class="faq-item__question">
            <span>The app is running slowly or crashing. What should I do?</span>
            <svg class="faq-item__chevron" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M6 8l4 4 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </summary>
          <div class="faq-item__answer">
            <p>Try these steps:</p>
            <ul>
              <li>Make sure you're running the latest version of Invisible Ink from the App Store</li>
              <li>Restart the app by force-closing it and reopening</li>
              <li>Restart your device</li>
              <li>Make sure your device has enough storage space</li>
            </ul>
            <p>If the issue persists, please contact us at <a href="mailto:feedback@invisibleink.app">feedback@invisibleink.app</a> with a description of the problem and your device model.</p>
          </div>
        </details>

      </div>
    </div>
  </section>

  <!-- Contact -->
  <section class="section contact-section">
    <div class="container container--narrow text-center reveal--glow">
      <div class="contact-card card">
        <h2>Still need help?</h2>
        <p>We'd love to hear from you. Reach out and we'll get back to you as soon as possible.</p>
        <div class="contact-actions">
          <a href="mailto:feedback@invisibleink.app" class="btn btn--primary">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M2 4l7 5 7-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><rect x="1" y="3" width="16" height="12" rx="2" stroke="currentColor" stroke-width="1.5"/></svg>
            Send Email
          </a>
          <a href="https://apps.apple.com/app/id6758377109?action=write-review" class="btn btn--secondary" target="_blank" rel="noopener">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M9 2l2 4.1 4.5.7-3.3 3.2.8 4.5L9 12.2l-4 2.3.8-4.5L2.5 6.8l4.5-.7z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/></svg>
            Rate the App
          </a>
        </div>
      </div>
    </div>
  </section>

</BaseLayout>

<style>
  .text-center { text-align: center; }

  .page-hero {
    padding: 10rem 0 2rem;
    position: relative;
    overflow: hidden;
  }

  .page-hero__bg {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }

  .page-hero__sub {
    font-size: clamp(1.05rem, 1.8vw, 1.25rem);
    max-width: 500px;
    margin: 1rem auto 0;
  }

  /* FAQ */
  .faq {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .faq-item {
    background: var(--bg-card);
    border: var(--border-subtle);
    border-radius: var(--radius-md);
    overflow: hidden;
    transition: border-color 0.3s;
  }

  .faq-item:hover {
    border-color: rgba(168, 85, 247, 0.15);
  }

  .faq-item[open] {
    border-color: rgba(168, 85, 247, 0.2);
  }

  .faq-item__question {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.25rem 1.5rem;
    cursor: pointer;
    font-weight: 600;
    font-size: 1.05rem;
    color: var(--text-primary);
    list-style: none;
    user-select: none;
    transition: color 0.3s;
  }

  .faq-item__question::-webkit-details-marker {
    display: none;
  }

  .faq-item__question:hover {
    color: var(--accent-purple);
  }

  .faq-item__chevron {
    flex-shrink: 0;
    transition: transform 0.3s var(--ease-out-expo);
    color: var(--text-muted);
  }

  .faq-item[open] .faq-item__chevron {
    transform: rotate(180deg);
    color: var(--accent-purple);
  }

  .faq-item__answer {
    padding: 0 1.5rem 1.5rem;
    animation: fadeIn 0.3s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-8px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .faq-item__answer p {
    margin-bottom: 0.75rem;
    line-height: 1.8;
  }

  .faq-item__answer ul {
    padding-left: 1.5rem;
    margin-bottom: 0.75rem;
  }

  .faq-item__answer li {
    color: var(--text-secondary);
    margin-bottom: 0.4rem;
    line-height: 1.7;
  }

  .faq-item__answer a {
    color: var(--accent-purple);
    text-decoration: underline;
    text-underline-offset: 3px;
  }

  /* Contact Card */
  .contact-section {
    padding-bottom: 2rem;
  }

  .contact-card {
    padding: 3rem;
    text-align: center;
    border: var(--border-glow);
  }

  .contact-card h2 {
    margin-bottom: 0.75rem;
  }

  .contact-card p {
    margin-bottom: 2rem;
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
  }

  .contact-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }
</style>
